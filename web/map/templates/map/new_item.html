<!DOCTYPE html>
{% verbatim %}
<html lang="en" ng-app="newItemApp">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <title>Add a new service</title>


    <script>

        let newItemApp = angular.module('newItemApp', []);

        newItemApp.controller('NewItemController', function NewItemController($scope, $http, $interpolate) {

            $scope.createNewItem = function () {
                console.log('added');
                /**
                 * category
                 * address
                 * Name
                 * Phone
                 * Link (optional)
                 * email
                 * description (optional)

                 */
            }
        });

        function initAutoComplete() {
            $scope = angular.element(document.querySelector('[ng-controller="MapController"]')).scope();
            let input = document.getElementById('pac-input');

            let autocomplete = new google.maps.places.Autocomplete(input);
            autocomplete.setTypes(['address']);

            autocomplete.addListener('place_changed', function () {


                let place = autocomplete.getPlace();
                $scope.address = place.formatted_address

            });
        }

    </script>
    <script src='https://www.google.com/recaptcha/api.js'></script>

</head>
<body ng-controller="NewItemController">
<div class="container">

    <div class="row">
        <form class="form-group">
            <input placeholder="Category" class="form-control" type="category"/>
            <input placeholder="Name" class="form-control" type="text" ng-model="name"/>
            <input placeholder="Address" id="pac-input" class="form-control" type="text" ng-model="address"/>
            <input placeholder="Phone" class="form-control" type="tel" ng-model="phone"/>
            <input placeholder="Website" class="form-control" type="url" ng-model="link"/>
            <input placeholder="Email" class="form-control" type="email" ng-model="email"/>
            <input placeholder="Description" class="form-control" type="text" ng-model="description"/>
            <div class="g-recaptcha" data-sitekey="6LfiNhUUAAAAAPweRUWVNkrAcnwXpC9E59saBWGR"></div>
            <button class="btn btn-primary" type="button" ng-click="createNewItem()">Create</button>

        </form>

    </div>


</div>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDU0yX6BlIhIF8JLESH9qWu0_GZtAtBtwo&callback=initAutoComplete&libraries=places">
</script>
</body>
</html>
{% endverbatim %}